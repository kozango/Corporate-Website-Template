# デプロイ後の動作確認チェックリスト

## 0. 初期デプロイ確認

### GitHub Actions
- [ ] kumono-corp-site（Next.js）のワークフローが成功
- [ ] kumono-media（Astro）のワークフローが成功
- [ ] 環境変数が正しく設定されている
- [ ] ビルドエラーが発生していない

### Cloud Run
- [ ] 両サービスが正常に起動している
- [ ] ヘルスチェックが成功している
- [ ] メモリ使用量が正常範囲内
- [ ] CPUの使用率が正常範囲内

## 1. kumono-corp-site（Next.js）の動作確認

### 基本機能
- [ ] トップページが正常に表示される
- [ ] ナビゲーションメニューが機能する
- [ ] レスポンシブデザインが正常に動作
- [ ] 画像が正しく表示される
- [ ] フォントが正しく適用されている

### インタラクション
- [ ] アニメーションが正常に動作
- [ ] スクロールイベントが機能する
- [ ] フォームの送信が正常に動作

### パフォーマンス
- [ ] Lighthouse スコアの確認
  - [ ] Performance: 90以上
  - [ ] Accessibility: 90以上
  - [ ] Best Practices: 90以上
  - [ ] SEO: 90以上

## 2. kumono-media（Astro）の動作確認

### 基本機能
- [ ] メディアトップページが表示される
- [ ] 記事一覧が正しく表示される
- [ ] 記事詳細ページが表示される
- [ ] サイドバーが表示される
- [ ] 画像が正しく表示される

### 検索機能
- [ ] 検索フォームが機能する
- [ ] 検索結果が表示される
- [ ] 検索クエリがURLに反映される
- [ ] 該当なしの場合の表示が適切

### ページネーション
- [ ] ページ送りが機能する
- [ ] 現在のページが強調表示される
- [ ] 最初/最後のページでの表示が適切

### microCMS連携
- [ ] 記事の内容が正しく表示される
- [ ] 記事の更新が反映される
- [ ] Webhookによる自動デプロイが機能する

### エラーハンドリング
- [ ] 404ページが表示される
- [ ] APIエラー時のフォールバックが機能する

### パフォーマンス
- [ ] Lighthouse スコアの確認
  - [ ] Performance: 90以上
  - [ ] Accessibility: 90以上
  - [ ] Best Practices: 90以上
  - [ ] SEO: 90以上

## 3. ドメインとSSL

### kumono-corp-site
- [ ] カスタムドメインでアクセス可能
- [ ] SSL証明書が有効
- [ ] HTTPS強制リダイレクトが機能
- [ ] セキュリティヘッダーが設定されている

### kumono-media
- [ ] カスタムドメインでアクセス可能
- [ ] SSL証明書が有効
- [ ] HTTPS強制リダイレクトが機能
- [ ] セキュリティヘッダーが設定されている

## 4. 相互リンク

### kumono-corp-site → kumono-media
- [ ] メディアページへのリンクが機能
- [ ] 新しいタブで開く設定が正しい
- [ ] リンク先のURLが正しい

### kumono-media → kumono-corp-site
- [ ] コーポレートサイトへのリンクが機能
- [ ] 新しいタブで開く設定が正しい
- [ ] リンク先のURLが正しい

## 5. 監視とアラート

- [ ] Cloud Monitoringが設定されている
- [ ] エラーログが正しく収集されている
- [ ] アラート通知が設定されている
- [ ] アップタイムチェックが設定されている

## 確認完了後の対応

1. 全てのチェック項目がパスした場合
   - 本番環境として承認
   - 監視体制を開始
   - チームに展開開始を通知

2. 問題が見つかった場合
   - 問題の詳細を記録
   - 優先度を設定
   - 修正計画を立案
   - 必要に応じてロールバック手順を準備
